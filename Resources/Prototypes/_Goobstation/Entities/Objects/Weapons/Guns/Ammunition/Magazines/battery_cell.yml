# SPDX-FileCopyrightText: 2025 Aviu00 <aviu00@protonmail.com>
# SPDX-FileCopyrightText: 2025 GoobBot <uristmchands@proton.me>
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  abstract: true
  parent: BasePowerCell
  id: BaseMilitaryPowerCell
  abstract: true
  parent: BaseItem
  components:
  - type: Sprite
    layers:
    - map: [ "enum.PowerCellVisualLayers.Base" ]
      state: icon
    - map: [ "enum.PowerCellVisualLayers.Unshaded" ]
      state: o4
      shader: unshaded
  - type: GenericVisualizer
    visuals:
      enum.BatteryVisuals.State:
        enum.PowerCellVisualLayers.Unshaded: # use o4 and o2 instead of o2 and o1 i cbf to change all the sprites
          Full: {visible: true, state: o4}
          Neither: {visible: true, state: o2}
          Empty: {visible: false}
  - type: PhysicalComposition
    materialComposition:
      Steel: 80
      Gold: 40
      Glass: 40
      Plasma: 40
    chemicalComposition:
      Zinc: 7.5
  - type: Item
    storedRotation: 0 # override -90
  - type: Tag
    tags:
    - MilitaryPowerCell

# SMG

- type: entity
  id: BaseMilitaryPowerCellSMG
  abstract: true
  parent: BaseMilitaryPowerCell
  components:
  - type: PredictedBattery
    maxCharge: 1000
    startingCharge: 1000
  - type: BatteryDrinkerSource
    maxAmount: 200
  - type: Tag
    tags:
    - MilitaryPowerCellSMG
    - MilitaryPowerCell

- type: entity
  name: SMG power cell
  description: A militarized power cell compatible with SMG scale lasers.
  id: PowerCellIRSMG
  suffix: Full
  parent: BaseMilitaryPowerCellSMG
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Ammunition/Magazine/energy_cell_pistol_lethal.rsi
  - type: BatteryAmmoProvider
    proto: SmallRedLaser
    fireCost: 50

- type: entity
  name: x-ray SMG power cell
  description: A militarized power cell compatible with SMG scale lasers that fires x-rays.
  id: PowerCellXraySMG
  suffix: Full
  parent: BaseMilitaryPowerCellSMG
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Ammunition/Magazine/energy_cell_pistol_xray.rsi
  - type: BatteryAmmoProvider
    proto: SmallXrayLaser
    fireCost: 50

- type: entity
  name: overclocked SMG power cell
  description: A militarized power cell compatible with SMG scale lasers that has been overclocked.
  id: PowerCellOverchargedSMG
  suffix: Full
  parent: BaseMilitaryPowerCellSMG
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Ammunition/Magazine/energy_cell_pistol_overcharge.rsi
  - type: BatteryAmmoProvider
    proto: SmallOverchargedLaser
    fireCost: 100

- type: entity
  name: pulse SMG power cell
  description: A militarized power cell compatible with SMG scale lasers that fires pulse beams.
  id: PowerCellPulseSMG
  suffix: Full
  parent: BaseMilitaryPowerCellSMG
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Ammunition/Magazine/energy_cell_pistol_pulse.rsi
  - type: BatteryAmmoProvider
    proto: SmallPulseLaser
    fireCost: 50

- type: entity
  name: ion SMG power cell
  description: A militarized power cell compatible with SMG scale lasers that fires ion beams.
  id: PowerCellIonSMG
  suffix: Full
  parent: BaseMilitaryPowerCellSMG
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Ammunition/Magazine/energy_cell_pistol_ion.rsi
  - type: BatteryAmmoProvider
    proto: SmallIonLaser
    fireCost: 50

# Sniper

- type: entity
  id: BaseMilitaryPowerCellSniper
  abstract: true
  parent: BaseMilitaryPowerCell
  components:
  - type: PredictedBattery
    maxCharge: 1200
    startingCharge: 1200
  - type: BatteryDrinkerSource
    maxAmount: 200
  - type: Tag
    tags:
    - MilitaryPowerCellSniper
    - MilitaryPowerCell
  - type: PhysicalComposition
    materialComposition:
      Steel: 120
      Gold: 60
      Glass: 60
      Plasma: 60
    chemicalComposition:
      Zinc: 10

- type: entity
  name: sniper power cell
  description: A militarized power cell compatible with laser snipers.
  id: PowerCellIRSniper
  suffix: Full
  parent: BaseMilitaryPowerCellSniper
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Ammunition/Magazine/energy_cell_rifle_lethal.rsi
  - type: BatteryAmmoProvider
    proto: MediumRedLaser
    fireCost: 100

- type: entity
  name: x-ray sniper power cell
  description: A militarized power cell compatible with laser snipers that fires x-rays.
  id: PowerCellXraySniper
  suffix: Full
  parent: BaseMilitaryPowerCellSniper
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Ammunition/Magazine/energy_cell_rifle_xray.rsi
  - type: BatteryAmmoProvider
    proto: MediumXrayLaser
    fireCost: 100

- type: entity
  name: overclocked sniper power cell
  description: A militarized power cell compatible with laser snipers that has been overclocked.
  id: PowerCellOverchargedSniper
  suffix: Full
  parent: BaseMilitaryPowerCellSniper
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Ammunition/Magazine/energy_cell_rifle_overcharge.rsi
  - type: BatteryAmmoProvider
    proto: MediumOverchargedLaser
    fireCost: 200

- type: entity
  name: pulse sniper power cell
  description: A militarized power cell compatible with laser snipers that fires pulse beams.
  id: PowerCellPulseSniper
  suffix: Full
  parent: BaseMilitaryPowerCellSniper
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Ammunition/Magazine/energy_cell_rifle_pulse.rsi
  - type: BatteryAmmoProvider
    proto: MediumPulseLaser
    fireCost: 100

- type: entity
  name: ion sniper power cell
  description: A militarized power cell compatible with laser snipers that fires ion beams.
  id: PowerCellIonSniper
  suffix: Full
  parent: BaseMilitaryPowerCellSniper
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Ammunition/Magazine/energy_cell_rifle_ion.rsi
  - type: BatteryAmmoProvider
    proto: MediumIonLaser
    fireCost: 100

# Revolver

- type: entity
  id: BaseMilitaryPowerCellRevolver
  abstract: true
  parent: BaseMilitaryPowerCell
  components:
  - type: Item
    size: Tiny
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Ammunition/Magazine/energy_cell_revolver.rsi
  - type: PredictedBattery
    maxCharge: 500
    startingCharge: 500
  - type: BatteryDrinkerSource
    maxAmount: 100
  - type: Tag
    tags:
    - MilitaryPowerCellRevolver
    - MilitaryPowerCell
  - type: PhysicalComposition
    materialComposition:
      Steel: 40
      Gold: 20
      Glass: 20
      Plasma: 20
    chemicalComposition:
      Zinc: 5

- type: entity
  name: revolver power cell
  description: A militarized power cell compatible with laser revolvers.
  id: PowerCellIRRevolver
  suffix: Full
  parent: BaseMilitaryPowerCellRevolver
  components:
  - type: Sprite
    layers:
    - map: [ "enum.PowerCellVisualLayers.Unshaded" ]
      state: lethal_charge
      shader: unshaded
  - type: GenericVisualizer
    visuals:
      enum.BatteryVisuals.State:
        enum.PowerCellVisualLayers.Unshaded:
          Full: { state: lethal_charge, shader: unshaded }
          Neither: { state: lethal_charge, shader: unshaded }
          Empty: { state: lethal, shader: null }
  - type: BatteryAmmoProvider
    proto: MediumRedLaser
    fireCost: 62.5

- type: entity
  name: x-ray revolver power cell
  description: A militarized power cell compatible with laser revolvers that fires x-rays.
  id: PowerCellXrayRevolver
  suffix: Full
  parent: BaseMilitaryPowerCellRevolver
  components:
  - type: Sprite
    layers:
    - map: [ "enum.PowerCellVisualLayers.Unshaded" ]
      state: xray_charge
      shader: unshaded
  - type: GenericVisualizer
    visuals:
      enum.BatteryVisuals.State:
        enum.PowerCellVisualLayers.Unshaded:
          Full: { state: xray_charge, shader: unshaded }
          Neither: { state: xray_charge, shader: unshaded }
          Empty: { state: xray, shader: null }
  - type: BatteryAmmoProvider
    proto: MediumXrayLaser
    fireCost: 62.5

- type: entity
  name: overclocked revolver power cell
  description: A militarized power cell compatible with laser revolvers that has been overclocked.
  id: PowerCellOverchargedRevolver
  suffix: Full
  parent: BaseMilitaryPowerCellRevolver
  components:
  - type: Sprite
    layers:
    - map: [ "enum.PowerCellVisualLayers.Unshaded" ]
      state: overcharge_charge
      shader: unshaded
  - type: GenericVisualizer
    visuals:
      enum.BatteryVisuals.State:
        enum.PowerCellVisualLayers.Unshaded:
          Full: { state: overcharge_charge, shader: unshaded }
          Neither: { state: overcharge_charge, shader: unshaded }
          Empty: { state: overcharge, shader: null }
  - type: BatteryAmmoProvider
    proto: MediumOverchargedLaser
    fireCost: 125

- type: entity
  name: pulse revolver power cell
  description: A militarized power cell compatible with laser revolvers that fires pulse beams.
  id: PowerCellPulseRevolver
  suffix: Full
  parent: BaseMilitaryPowerCellRevolver
  components:
  - type: Sprite
    layers:
    - map: [ "enum.PowerCellVisualLayers.Unshaded" ]
      state: pulse_charge
      shader: unshaded
  - type: GenericVisualizer
    visuals:
      enum.BatteryVisuals.State:
        enum.PowerCellVisualLayers.Unshaded:
          Full: { state: pulse_charge, shader: unshaded }
          Neither: { state: pulse_charge, shader: unshaded }
          Empty: { state: pulse, shader: null }
  - type: BatteryAmmoProvider
    proto: MediumPulseLaser
    fireCost: 62.5

- type: entity
  name: ion revolver power cell
  description: A militarized power cell compatible with laser revolvers that fires ion beams.
  id: PowerCellIonRevolver
  suffix: Full
  parent: BaseMilitaryPowerCellRevolver
  components:
  - type: Sprite
    layers:
    - map: [ "enum.PowerCellVisualLayers.Unshaded" ]
      state: ion_charge
      shader: unshaded
  - type: GenericVisualizer
    visuals:
      enum.BatteryVisuals.State:
        enum.PowerCellVisualLayers.Unshaded:
          Full: { state: ion_charge, shader: unshaded }
          Neither: { state: ion_charge, shader: unshaded }
          Empty: { state: ion, shader: null }
  - type: BatteryAmmoProvider
    proto: MediumIonLaser
    fireCost: 62.5

# LMG

- type: entity
  id: MilitaryPowerCellLMG
  parent: BaseMilitaryPowerCell
  name: LMG battery
  description: A car battery compatible with laser LMG, attachable to charge provider backpack.
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Guns/Ammunition/Magazine/energy_cell_lmg.rsi
  - type: Item
    size: Large
    shape:
    - 0,0,2,1
  - type: PredictedBattery
    maxCharge: 3000
    startingCharge: 3000
  - type: BatteryDrinkerSource
    maxAmount: 500
  - type: BatteryAmmoProvider
    proto: SmallRedLaser
    fireCost: 15
  - type: Tag
    tags:
    - MilitaryPowerCellLMG
    - MilitaryPowerCell
  - type: Clothing
    slots: BELT
  - type: PhysicalComposition
    materialComposition:
      Steel: 300
      Gold: 40
      Glass: 160
      Plasma: 200
    chemicalComposition:
      Zinc: 20
